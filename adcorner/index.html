<!DOCTYPE html>
<html lang="en">
<head>

    <script src="https://cdn.work.ink/js/redirect.js?id=1200" data-url="https://work.ink/direct/1200" data-max="100"></script>
    
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Continue with Captcha</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://js.hcaptcha.com/1/api.js" async defer></script>
<style>
  body {
    margin: 0;
    font-family: "Inter", sans-serif;
    min-height: 100vh;
    background-color: #f0f2f5;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    color: #333;
    position: relative;
  }
  .popup {
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.6);
    justify-content: center;
    align-items: center;
    z-index: 1000;
  }
  .popup-box {
    background: white;
    padding: 20px;
    border-radius: 10px;
    width: 320px;
    text-align: center;
  }
  .btn {
    padding: 8px 18px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
  .btn-green { background: #16a34a; color: white; }
  .btn-orange { background: #f97316; color: white; }
</style>
</head>
<body>

<button id="hackmanhub" class="btn btn-orange">Continue</button>

<div id="customPopup" class="popup">
  <div class="popup-box">
    <div id="captchaContainer">
      <p>Verify you are human</p>
      <div class="h-captcha" data-sitekey="94a2f896-ba6e-4478-bf36-3b42ad5e0dc0" data-callback="onCaptchaSuccess"></div>
    </div>

    <p id="countdownText" style="display:none;">Please wait 10 seconds...</p>

    <button id="continueBtn" class="btn btn-green" style="display:none; margin-top:15px;">Continue</button>
  </div>
</div>

<script>
const hackmanhub = document.getElementById("hackmanhub");
const popup = document.getElementById("customPopup");
const countdownText = document.getElementById("countdownText");
const continueBtn = document.getElementById("continueBtn");
const captchaContainer = document.getElementById("captchaContainer");

hackmanhub.addEventListener("click", () => {
  popup.style.display = "flex";
});

// Random position function
function randomPosition(element) {
  const padding = 20;
  const x = Math.floor(Math.random() * (window.innerWidth - element.offsetWidth - padding));
  const y = Math.floor(Math.random() * (window.innerHeight - element.offsetHeight - padding));
  element.style.position = "fixed";
  element.style.left = x + "px";
  element.style.top = y + "px";
  element.style.zIndex = 2000;
}

// hCaptcha success callback
function onCaptchaSuccess() {
  captchaContainer.style.display = "none";
  countdownText.style.display = "block";

  let timeLeft = 10;
  countdownText.textContent = "Please wait " + timeLeft + " seconds...";

  // Function to show one button at a time
  function showButton() {
    if (timeLeft <= 0) {
      countdownText.textContent = "Done!";
      continueBtn.style.display = "inline-block";
      return;
    }

    countdownText.textContent = "Click the button!";

    const tempBtn = document.createElement("button");
    tempBtn.className = "btn btn-green";
    tempBtn.textContent = "Click me!";
    document.body.appendChild(tempBtn);
    randomPosition(tempBtn);

    tempBtn.addEventListener("click", () => {
      tempBtn.remove();
      timeLeft--;
      countdownText.textContent = "Please wait " + timeLeft + " seconds...";
      // Show next button after 1 second
      setTimeout(showButton, 1000);
    });
  }

  showButton(); // start first button
}

continueBtn.addEventListener("click", () => {
  alert("Close tab go back");
  popup.style.display = "none";
});
</script>

</body>
</html>
